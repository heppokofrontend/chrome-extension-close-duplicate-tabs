(()=>{"use strict";const e=(e,o)=>{const n=new URL(e),{origin:r,hash:s,search:t}=n,a=n.pathname.replace(/\/index\.(x?html?|php|cgi|aspx)$/,"/");return o?.noHash&&o?.noQuery?`${r}${a}`:o?.noHash?`${r}${a}${t}`:o?.noQuery?`${r}${a}${s}`:`${r}${a}${t}${s}`},o={remove(o,n){const r=new Set,s=[];for(const t of o){if(!t.url||"number"!=typeof t.id)continue;const o=e(t.url,n);r.has(o)&&s.push(t.id),r.add(o)}for(const e of s)chrome.tabs.remove(e)},reload(e){for(const{id:o}of e)o&&chrome.tabs.reload(o)}},n=({task:e,ignore:n})=>{chrome.tabs.query({currentWindow:!0},(r=>{o[e]?.(r,n)}))};chrome.runtime.onConnect.addListener((e=>{e.onMessage.addListener(n)}))})();